<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ProBoost ‚Äì Manager Dashboard</title>
  <link rel="stylesheet" href="manager.css" />
</head>
<body>
  <!-- Top Navigation Bar (UNCHANGED) -->
  <header class="top-navbar">
    <div class="navbar-left">
      <div class="logo">
        <img src="Logo.png" alt="ProBoost Logo">
        <span>ProBoost Manager</span>
      </div>
      <button class="nav-button home-btn" onclick="goToMainMenu()">Home</button>
      <div class="search-container">
        <input type="text" placeholder="Search..." class="search-input">
        <button class="search-btn" aria-label="Search">üîç</button>
      </div>
    </div>
    <div class="navbar-right">
      <button class="icon-btn" title="Add New" aria-label="Add New">‚ûï</button>
      <button class="icon-btn" title="Notifications" aria-label="Notifications">üîî</button>
      <div class="user-profile" onclick="toggleUserMenu()">
        <div class="user-avatar" id="userAvatar">üë§</div>
        <span id="userNameDisplay">Manager</span>
      </div>
      <button class="icon-btn" title="Settings" onclick="showSection('userPage')" aria-label="Settings">‚öôÔ∏è</button>
    </div>
  </header>

  <!-- Circular Navigation FAB (UNCHANGED) -->
  <div class="circular-nav" id="circularNav">
    <div class="fab-main" onclick="toggleCircularNav()">
      <div class="fab-icon">‚ò∞</div>
    </div>
    <div class="fab-options" id="fabOptions">
      <div class="fab-option" onclick="navigateToSection('collaboration')" title="Team Collaboration">ü§ù</div>
      <div class="fab-option" onclick="navigateToSection('time')" title="Time Tracking">‚è≥</div>
      <div class="fab-option" onclick="navigateToSection('analytics')" title="Analytics">üìä</div>
      <div class="fab-option" onclick="navigateToSection('goalPage')" title="Goals">üéØ</div>
      <div class="fab-option" onclick="navigateToSection('taskPage')" title="Tasks">üìù</div>
      <div class="fab-option" onclick="navigateToSection('countdown')" title="Countdown">‚è∞</div>
      <div class="fab-option logout-fab" onclick="logoutUser()" title="Logout">üö™</div>
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <!-- User Settings -->
    <section id="userPage" class="section">
      <div class="section-header">
        <h1>üë§ User Settings</h1>
        <p>Manage your profile and preferences</p>
      </div>

      <div class="settings-grid">
        <!-- Profile -->
        <div class="panel">
          <h3 style="margin-bottom:10px;color:#3498DB">Profile Management</h3>
          <form id="profileForm" class="form-container" style="margin:0">
            <div class="row-2">
              <div class="input-group">
                <label for="fullName">Full name</label>
                <input id="fullName" name="fullName">
              </div>
              <div class="input-group">
                <label for="email">Email</label>
                <input id="email" name="email" type="email">
              </div>
            </div>

            <div class="row-2">
              <div class="input-group">
                <label for="jobTitle">Job title</label>
                <input id="jobTitle" name="jobTitle" placeholder="Product Manager">
              </div>
              <div class="input-group">
                <label for="phone">Phone</label>
                <input id="phone" name="phone" placeholder="+60 123 4567">
              </div>
            </div>

            <div class="row-2" style="align-items:center">
              <div class="input-group">
                <label>Avatar</label>
                <input id="avatar" type="file" accept="image/*">
              </div>
              <div style="display:flex;gap:14px;align-items:center">
                <img id="avatarPreview" alt="Avatar" style="width:64px;height:64px;border-radius:50%;background:#cbd5e1;object-fit:cover">
                <button type="button" id="saveProfile" class="btn-primary">Save Profile</button>
              </div>
            </div>
          </form>
        </div>

        <!-- Preferences -->
        <div class="panel">
          <h3 style="margin-bottom:10px;color:#3498DB">Preferences</h3>
          <div class="form-container" style="margin:0">
            <div class="row-2">
              <div class="input-group">
                <label for="theme">Theme</label>
                <select id="theme">
                  <option value="system">System</option>
                  <option value="light">Light</option>
                  <option value="dark">Dark</option>
                </select>
              </div>
              <div class="input-group">
                <label for="lang">Language</label>
                <select id="lang">
                  <option value="en">English</option>
                  <option value="bm">Malay</option>
                </select>
              </div>
            </div>

            <div class="settings-list" style="margin-top:8px">
              <div class="setting-item">
                <span>Email notifications</span>
                <label class="toggle">
                  <input id="notifEmail" type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span>Push notifications</span>
                <label class="toggle">
                  <input id="notifPush" type="checkbox">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span>Weekly summaries</span>
                <label class="toggle">
                  <input id="weekly" type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
            </div>

            <div style="margin-top:14px">
              <button type="button" id="savePrefs" class="btn-primary">Save Preferences</button>
            </div>
          </div>
        </div>

        <!-- Team Settings -->
        <div class="panel">
          <h3 style="margin-bottom:10px;color:#3498DB">Team Settings</h3>
          <div class="form-container" style="margin:0">
            <div class="row-2">
              <div class="input-group">
                <label for="role">Role</label>
                <select id="role">
                  <option>Member</option>
                  <option>Manager</option>
                </select>
              </div>
              <div class="input-group">
                <label for="workspace">Workspace</label>
                <select id="workspace">
                  <option>Main</option>
                  <option>Design</option>
                  <option>Engineering</option>
                </select>
              </div>
            </div>

            <div class="settings-list" style="margin-top:8px">
              <div class="setting-item">
                <span>Allow mentions (@name)</span>
                <label class="toggle">
                  <input id="mentions" type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span>Share my status</span>
                <label class="toggle">
                  <input id="shareStatus" type="checkbox">
                  <span class="slider"></span>
                </label>
              </div>
            </div>

            <div style="margin-top:14px">
              <button type="button" id="saveTeam" class="btn-primary">Save Team Settings</button>
            </div>
          </div>
        </div>

        <!-- Data & Privacy -->
        <div class="panel">
          <h3 style="margin-bottom:10px;color:#3498DB">Data &amp; Privacy Control</h3>
          <div class="form-container" style="margin:0">
            <div class="settings-list">
              <div class="setting-item">
                <span>Two-factor authentication</span>
                <label class="toggle">
                  <input id="twoFA" type="checkbox">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span>Use analytics to improve product</span>
                <label class="toggle">
                  <input id="analytics" type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
            </div>

            <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap">
              <button type="button" id="downloadData" class="btn-primary">Download My Data</button>
              <button type="button" class="delete-btn" id="deleteAccount">Delete Account</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Task Management -->
    <section id="taskPage" class="section active">
      <div class="section-header">
        <h1>üìù Task Management</h1>
        <p>Organize and track your team's tasks</p>
      </div>

      <!-- Controls (wireframe: add left, sort right, search full row) -->
      <div class="controls controls-wire">
        <button class="btn" id="addTaskBtn" onclick="openTaskModal()">‚ûï Add Task</button>
        <div class="field">
          <label class="field-label">Sort by :</label>
          <select id="sortSelect" onchange="sortBoard()">
            <option selected disabled>‚Äî</option>
            <option value="priority">Priority</option>
            <option value="deadline">Deadline</option>
            <option value="assignee">Assignee</option>
          </select>
        </div>
        <div class="field field-search">
          <input id="searchInput" placeholder="Search Tasks" oninput="filterBoard()" />
        </div>
      </div>

      <!-- Kanban (4 equal columns) -->
      <div class="kanban wire-kanban" id="kanban">
        <div class="col" data-status="upcoming">
          <div class="col-head"><span class="col-title">Upcoming</span><span>‚ãØ</span></div>
          <div class="cards"></div>
          <button class="add-card" onclick="openTaskModal(null,'upcoming')">+ Add a card</button>
        </div>
        <div class="col" data-status="in-progress">
          <div class="col-head"><span class="col-title">In Progress</span><span>‚ãØ</span></div>
          <div class="cards"></div>
          <button class="add-card" onclick="openTaskModal(null,'in-progress')">+ Add a card</button>
        </div>
        <div class="col" data-status="completed">
          <div class="col-head"><span class="col-title">Completed</span><span>‚ãØ</span></div>
          <div class="cards"></div>
          <button class="add-card" onclick="openTaskModal(null,'completed')">+ Add a card</button>
        </div>
        <div class="col" data-status="pending">
          <div class="col-head"><span class="col-title">Pending</span><span>‚ãØ</span></div>
          <div class="cards"></div>
          <button class="add-card" onclick="openTaskModal(null,'pending')">+ Add a card</button>
        </div>
      </div>

      <!-- Calendar + Day list (side-by-side like wireframe) -->
      <div class="calendar-wrap wire-cal">
        <div class="calendar">
          <header>
            <button class="ghost" onclick="prevMonth()">‚óÄ</button>
            <div id="calTitle" style="font-weight:700"></div>
            <button class="ghost" onclick="nextMonth()">‚ñ∂</button>
          </header>
          <table>
            <thead>
              <tr><th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th></tr>
            </thead>
            <tbody id="calBody"></tbody>
          </table>
        </div>

        <div class="daylist">
          <div class="daylist-head">
            <div id="dayTitle" class="day-title">‚Äî</div>
            <span>‚ãØ</span>
          </div>
          <div id="dayItems" class="day-items"></div>
        </div>
      </div>

      <!-- Overview (table like wireframe) -->
      <section class="overview">
        <h2 class="section-header" style="font-size:36px">Overview</h2>
        <div class="table card-table">
          <table id="overviewTable">
            <thead>
              <tr>
                <th>Task</th>
                <th>Status</th>
                <th>Assignee</th>
                <th>Deadline</th>
                <th>Tags</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </section>

    <!-- Goal Plan -->
    <section id="goalPage" class="section">
      <div class="section-header">
        <h1>üéØ Goal Plan</h1>
        <p>Set and track personal and team goals</p>
      </div>

      <!-- Top: Donut + lists pane -->
      <div class="goal-grid">
        <div class="panel">
          <div class="donut" id="donut">
            <div style="padding:12px 0">
              <div style="text-align:center">
                <div id="donutLabel" style="font-size:22px">0/0 Goals Achieved</div>
              </div>
            </div>
          </div>
          <div id="donutSub" class="muted" style="text-align:center;margin-top:8px">‚Äî</div>
        </div>
        <div class="panel list-pane">
          <div class="bar" style="height:38px;border-radius:10px;background:#cfd6df;margin-bottom:12px"></div>
          <div class="list">
            <div class="row"></div><div class="row"></div><div class="row"></div>
            <div class="bar" style="height:38px;border-radius:10px;background:#cfd6df;margin:10px 0"></div>
            <div class="row"></div><div class="row"></div><div class="row"></div>
          </div>
        </div>
      </div>

      <!-- Personal & Team tables like wireframe -->
      <div class="goal-sections">
        <div class="goal-table">
          <div class="goal-table-head">
            <span>Personal</span>
            <div class="row">
              <button class="ghost" onclick="openGoalModal('personal')">+ New Goal</button>
              <button class="ghost">Sort ‚ñæ</button>
            </div>
          </div>
          <table id="personalGoals">
            <thead>
              <tr><th>Goals</th><th>Type</th><th>Timeframe</th><th>Goal Outcome</th><th>Status</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="goal-table">
          <div class="goal-table-head">
            <span>Team</span>
            <div class="row">
              <button class="ghost" onclick="openGoalModal('team')">+ New Goal</button>
              <button class="ghost">Sort ‚ñæ</button>
            </div>
          </div>
          <table id="teamGoals">
            <thead>
              <tr><th>Goals</th><th>Type</th><th>Timeframe</th><th>Progress</th><th>Status</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Progress Log (single big card like wireframe) -->
      <section class="progress-log">
        <h2 class="section-header" style="font-size:36px">Progress Log</h2>
        <div class="log-card" id="progressItem">
          <div class="log-head">
            <strong id="plTitle">Learn New Software Skill</strong>
            <button class="ghost" onclick="openProgressModal()">+ Update Progress</button>
          </div>
          <div class="progress progress-lg"><span id="plBar" style="width:60%"></span></div>
          <div class="log-foot">
            <div class="log-avatar"></div>
            <div>
              <div id="plDate">Aug 16</div>
              <div id="plNote" class="muted">Watched lessons on tools</div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </main>

  <!-- User Menu / Logout Modal (unchanged structure) -->
  <div id="userMenu" class="user-menu">
    <div class="user-info">
      <div class="user-avatar-large">üë§</div>
      <div>
        <div class="user-name" id="userNameMenu">Manager</div>
        <div class="user-role" id="userEmailMenu">manager@example.com</div>
      </div>
    </div>
    <a href="#" class="menu-item" onclick="showSection('userPage'); return false;">‚öôÔ∏è Settings</a>
    <a href="#" class="menu-item logout-item" onclick="logoutUser(); return false;">üö™ Logout</a>
  </div>

  <div id="logoutModal" class="modal">
    <div class="modal-content">
      <h3>Confirm Logout</h3>
      <p>Are you sure you want to logout?</p>
      <div class="modal-actions">
        <button class="btn-primary" onclick="confirmLogout()">Yes, Logout</button>
        <button class="btn-secondary" onclick="cancelLogout()">Cancel</button>
      </div>
    </div>
  </div>

  <script src="manager.js"></script>
</body>
</html>
